
ë¯¸ë“¤ì›¨ì–´ëŠ” ë¦¬ë•ìŠ¤ê°€ ì§€ë‹ˆê³  ìˆëŠ” í•µì‹¬ ê¸°ëŠ¥.

  --------      ----------       --------      --------
 |  ì•¡ ì…˜  | => | ë¯¸ ë“¤ ì›¨ ì–´ | => | ë¦¬ ë“€ ì„œ | => | ìŠ¤ í†  ì–´ |
  --------      ----------       --------      --------

  ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ì•¡ì…˜ì´ ë””ìŠ¤íŒ¨ì¹˜ëœ ë‹¤ìŒ,
  ë¦¬ë“€ì„œì—ì„œ í•´ë‹¹ ì•¡ì…˜ì„ ë°›ì•„ì™€ì„œ ì—…ë°ì´íŠ¸ í•˜ê¸° ì „ì— ì¶”ê°€ì ì¸ ì‘ì—…ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  ì—¬ê¸°ì„œ ì¶”ê°€ì ì¸ ì‘ì—…ì€ ë‹¤ìŒê°™ì€ ê²ƒë“¤ì´ ìˆìŠµë‹ˆë‹¤.

  ğŸ”¸ íŠ¹ì • ì¡°ê±´ì— ë”°ë¼ ì•¡ì…˜ì´ ë¬´ì‹œë˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  ğŸ”¸ ì•¡ì…˜ì„ ì½˜ì†”ì— ì¶œë ¥í•˜ê±°ë‚˜, ì„œë²„ìª½ì— ë¡œê¹…ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  ğŸ”¸ ì•¡ì…˜ì´ ë””ìŠ¤íŒ¨ì¹˜ ëì„ ë•Œ ì´ë¥¼ ìˆ˜ì •í•´ì„œ ë¦¬ë“€ì„œì—ê²Œ ì „ë‹¬ë˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  ğŸ”¸ íŠ¹ì • ì•¡ì…˜ì´ ë°œìƒí–ˆì„ ë•Œ ì´ì— ê¸°ë°˜í•˜ì—¬ ë‹¤ë¥¸ ì•¡ì…˜ì´ ë°œìƒë˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  ğŸ”¸ íŠ¹ì • ì•¡ì…˜ì´ ë°œìƒí–ˆì„ ë•Œ íŠ¹ì • ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  ë§Œì•½ counter í”„ë¡œê·¸ë¨ì—ì„œ ë”í•˜ê¸° ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ ë°”ë¡œ +1ë¥¼ ë”í•˜ì§€ ì•Šê³  
  3ì´ˆë¥¼ ê¸°ë‹¤ë ¸ë‹¤ê°€, +1ì´ ë˜ë„ë¡ êµ¬í˜„í•˜ë ¤ë©´ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ì„œëŠ” êµ¬í˜„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
  ì™œëƒí•˜ë©´ dispatchê°€ ë˜ìë§ˆì ë°”ë¡œ actionì´ ë¦¬ë“€ì„œë¡œ ë‹¬ë ¤ê°€ì„œ ìƒˆë¡œìš´ stateë¥¼ ë°˜í™˜í•´ë²„ë¦¬ê¸° ë•Œë¬¸ì´ì£ . 
  ì¦‰ ì—¬ê¸°ì„œ "3ì´ˆë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ì‘ì—…" ì´ ì‘ì—…ì„ "ë¯¸ë“¤ì›¨ì–´"ê°€ í•´ì£¼ëŠ” ê²ƒ ì…ë‹ˆë‹¤.

  ë³´í†µ ìš°ë¦¬ê°€ ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” "ì„œë²„ì™€ì˜ í†µì‹ ì„ ìœ„í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒ"ì´ ëŒ€ë¶€ë¶„ì´ê³ ,
  ë˜í•œ ê·¸ ì¤‘ì—ì„œë„ ë§ì´ ì‚¬ìš©ë˜ê³  ìˆëŠ” ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ëŠ” "Redux-thunk" ë¼ëŠ” ê²ƒì´ ìˆìŠµë‹ˆë‹¤.



ğŸ’¡ - ğŸ’¡ - ğŸ’¡ - ğŸ’¡ - ğŸ’¡ - ğŸ’¡ - ğŸ’¡ - ğŸ’¡ - ğŸ’¡ - ğŸ’¡ - ğŸ’¡ - ğŸ’¡ - ğŸ’¡ - ğŸ’¡ - ğŸ’¡ - ğŸ’¡ - ğŸ’¡ - ğŸ’¡ - ğŸ’¡



thunk í•¨ìˆ˜

thunkì˜ ì—­í• ì„ '3ì´ˆë¥¼ ê¸°ë‹¤ë¦¬ê²Œ í•˜ëŠ” ê²ƒ' ì…ë‹ˆë‹¤.

íˆ´í‚·ì—ì„œëŠ”  createAsyncThunk  ë¼ëŠ” APIë¥¼ ì‚¬ìš©í•´ì„œ thunk í•¨ìˆ˜ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ì´ APIëŠ” í•¨ìˆ˜ì¸ë°, ì²«ë²ˆì§¸ ì¸ìì—ëŠ” Action Value, ë‘ë²ˆì§¸ ì¸ìì—ëŠ” í•¨ìˆ˜ê°€ ë“¤ì–´ê°‘ë‹ˆë‹¤. 
ì´ í•¨ìˆ˜ì— ìš°ë¦¬ê°€ í•˜ê³  ì‹¶ì€ ì‘ì—…ë“¤ì„ êµ¬í˜„í•˜ë©´ ë©ë‹ˆë‹¤.


export const í•¨ìˆ˜ëª… = createAsyncThunk(
	"ACTION_VALUE",
	(arg, thunkAPI) => {},
);

arg : createAsyncThunk ì˜ ë‘ë²ˆì§¸ ì¸ìì¸ í•¨ìˆ˜ ì† ì²«ë²ˆì§¸ ì¸ìë¡œ thunkí•¨ìˆ˜ê°€ ì™¸ë¶€ì—ì„œ ì‹¤í–‰ë˜ì—ˆì„ ë•Œ ë„£ì€ ê°’ì„ ì—¬ê¸°ì—ì„œ ì¡°íšŒ ê°€ëŠ¥í•˜ë‹¤.
thunkAPI : thunkê°€ ì œê³µí•˜ëŠ” APIê¸°ëŠ¥ì´ ë‹´ê¸´ ê°ì²´



ì´ì œ '3ì´ˆë¥¼ ê¸°ë‹¤ë ¤ë³´ì'

ì²«ë²ˆì§¸ ìë¦¬ì—ëŠ” action valueë¥¼, ë‘ë²ˆì§¸ì—ëŠ” í•¨ìˆ˜ë¥¼ ë„£ëŠ”ë‹¤.

// src/redux/modules/counterSlice.js

import { createSlice, createAsyncThunk } from "@reduxjs/toolkit";

export const __addNumber = createAsyncThunk( #addNumberëŠ” thunkë‹¤! // __addNumberëŠ” ì˜ˆìƒê¸° ë§¤ë‹ˆì €ê°€ thunk í•¨ìˆ˜ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•œ í‘œì‹œ
        # ì²«ë²ˆì§¸ ì¸ì : action value
    "addNumber", 
        # ë‘ë²ˆì§¸ ì¸ì : ì½œë°±í•¨ìˆ˜ 
    (payload, thunkAPI) => { #arg = payload
        setTimeout(() => {
        thunkAPI.dispatch(addNumber(payload)); #ì…ë ¥ê°’ì„ dispatchí•œë‹¤. 
        }, 3000); #3ì´ˆ = 3000ms ë’¤ì—
    }
    );

    const initialState = { # ì•„ë˜ sliceì— ë„˜ê¸¸ initialState ê°’ì„.
    number: 0,
    };

    const counterSlice = createSlice({
    name: "counter",
    initialState, # ìœ„ì— ì„ ì–¸ëœ initialState ê°’
    reducers: {
        addNumber: (state, action) => {
        state.number = state.number + action.payload;
        },

        minusNumber: (state, action) => {
        state.number = state.number - action.payload;
        },
    },
});


export const { addNumber, minusNumber } = counterSlice.actions;
export default counterSlice.reducer;

í•¨ìˆ˜ì•ˆì—ëŠ” setTimeout ë¼ëŠ” Web APIë¥¼ ì´ìš©í•´ì„œ 3ì´ˆë¥¼ ê¸°ë‹¤ë¦¬ê²Œ í–ˆê³ , 
ì´í›„ì— thunkAPI ì•ˆì— ìˆëŠ” dispatchë¥¼ í†µí•´ì„œ ìš°ë¦¬ê°€ ì›ë˜ í•˜ë ¤ê³  í–ˆë˜ addNumberë¼ëŠ” action creatorë¥¼ ë„£ì—ˆìŠµë‹ˆë‹¤. 

ê¸°ì¡´ì—ëŠ” addNumber ë¼ëŠ” action creatorë¥¼ dispatchí–ˆë‹¤ë©´, ì´ì œëŠ” __addNumber ë¼ëŠ” thunkí•¨ìˆ˜ë¥¼ dispatch í•´ì¤ë‹ˆë‹¤. 





## ì •ë¦¬

- ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•˜ë©´, ì•¡ì…˜ì´ ë¦¬ë“€ì„œë¡œ ì „ë‹¬ë˜ê¸°ì „ì— ì¤‘ê°„ì— ì–´ë–¤ ì‘ì—…ì„ ë” í•  ìˆ˜ìˆë‹¤.
- Thunkë¥¼ ì‚¬ìš©í•˜ë©´, ê°ì²´ê°€ ì•„ë‹Œ í•¨ìˆ˜ë¥¼ dispatch í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. [thunkì˜ í•µì‹¬]
- ë¦¬ë•ìŠ¤ íˆ´í‚·ì—ì„œ Thunk í•¨ìˆ˜ë¥¼ ìƒì„±í•  ë•ŒëŠ” `createAsyncThunk` ë¥¼ ì´ìš©í•œë‹¤.
- `createAsyncThunk()` ì˜ ì²«ë²ˆì§¸ ìë¦¬ì—ëŠ” action value, ë‘ë²ˆì§¸ì—ëŠ” í•¨ìˆ˜ê°€ ë“¤ì–´ê°„ë‹¤.
- ë‘ë²ˆì§¸ë¡œ ë“¤ì–´ê°€ëŠ” í•¨ìˆ˜ì—ì„œ 2ê°œì˜ ì¸ìë¥¼ êº¼ë‚´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°,
  ì²«ë²ˆì§¸ ì¸ìëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ ë³´ë‚´ì¤€ payloadì´ê³ ,
  ë‘ë²ˆì§¸ ì¸ìëŠ” thunkì—ì„œ ì œê³µí•˜ëŠ” ì—¬ëŸ¬ê°€ì§€ ê¸°ëŠ¥ì´ë‹¤.




















































































































































































































































































































































































