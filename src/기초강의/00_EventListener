
EventListener

Eventë€
ì‚¬ìš©ìê°€ ì–´ë–¤ í–‰ë™(onClick, mouseover...)ì„ í–ˆì„ ë•Œ ë‚˜íƒ€ë‚˜ëŠ” ê²ƒ.

EventListenerë€ (ì‚¬ìš©ì´ìœ )
ì‚¬ìš©ê°€ì Eventë¥¼ ë°œìƒì‹œí‚¤ë©´ ê·¸ì— ë§ëŠ” í–‰ë™(ë°°ê²½ìƒ‰ ë³€ê²½, ìˆ«ìì˜¬ë¦¬ê¸°...)ì„
ë³´ì—¬ì¤˜ì•¼ í•˜ë¯€ë¡œ ì–¸ì œ ì‚¬ìš©ìê°€ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ëŠ”ì§€ í™•ì¸ í•˜ëŠ” ê²ƒ.

1ì£¼ì°¨ì— ë°°ìš´
getElementBy~.addEventListener

ì´ë²¤íŠ¸ë¦¬ìŠ¤ë„ˆë¥¼ ì“°ë ¤ë©´
1) ì–´ë””ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë¶™ì¼ê±´ì§€ ì •í•˜ê¸° (getElementBy~)
2) ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë¶™ì´ê¸° (addEventListener)


ê·¸ëŸ¬ë©´ ë¦¬ì•¡íŠ¸ì—ì„œëŠ” ì–´ë–»ê²Œ ì´ë²¤íŠ¸ë¦¬ìŠ¤ë„ˆë¥¼ ì“¸ê¹Œ?

(í´ë˜ìŠ¤í˜•)
import logo from './logo.svg';
import './App.css';
import React from "react";
import Text from "./Text";

class App extends React.Component{
    constructor(props){
        super(props);

        this.state = {};
        this.circle = React.createRef(null);
    }

    componentDidMount(){ ;ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë¶™ì´ë ¤ë©´ DOM ìš”ì†Œê¹Œì§€ ì™„ì„±ë˜ì–´ìˆì–´ì•¼ í•œë‹¤.
        console.log(this.circle);ì´ë²¤íŠ¸ë¦¬ìŠ¤ë„ˆ ì˜ë¶™ì—ˆë‚˜
        ; ì´ë²¤íŠ¸ ì˜ë¶™ì€ê±° í™•ì¸í–ˆìœ¼ë©´ ì´ë²¤íŠ¸ë¦¬ìŠ¤ë„ˆ ë¶™ì—¬ì£¼ê¸° (ì–´ë–¤ì´ë²¤íŠ¸, ì–´ë–¤ í–‰ë™í• ê²Œ)
        this.circle.current.addEventListener("mouseover", this.hoverEvent);
    }

    componentWillUnmount() {

    }

    render() {
        return (
        <div style={{width: "100vw", height:"100vh", textAlign:"center"}}>
            <Text/>
            <div style={{margin:"auto", width: "250px", height: "250px", 
            background:"green", borderRadius:"250px"}} ref={this.circle}></div>
            
        </div>
        );
    }
}

export default App;


(í•¨ìˆ˜í˜•)
import React from "react";

const Text = (props) => {
    const text = React.useRef(null);

    React.useEffect(() => {

    }, []);
    return (
        <h1 ref={text}>í…ìŠ¤íŠ¸ì…ë‹ˆë‹¤!</h1>
    )
}

export default Text;




ğŸŸ¡(í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ event listener êµ¬ë…í•˜ê¸°)
    âšªï¸ ì–´ë””ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë¶™ì¼ê±´ì§€ ì •í•˜ê¸°
        í´ë¦­ì„ í•˜ê±´, ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ê±´ DOM ìš”ì†Œê°€ ìˆì–´ì•¼ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ” ì§€ ì§€ì¼œë³¼ ìˆ˜ ìˆë‹¤.
        => componentDidMount()ì— ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.

        ğŸ”² ì–´ë–¤ í–‰ë™(=ì´ë²¤íŠ¸ ë°œìƒ!) ë’¤ì— ì‹¤í–‰í•  í•¨ìˆ˜ ë¨¼ì € ë§Œë“¤ì–´ìš”.
        ; App.js
        hoverEvent = (e) => {
            ; ì½˜ì†”ë¡œ ì´ ì´ë²¤íŠ¸ê°€ ëˆ„êµ¬ì—ê²Œì„œ ì¼ì–´ë‚¬ëŠ” ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            console.log(e.target);
            ; refë‘ ê°™ì€ ë…€ì„ì¸ ì§€ í™•ì¸í•´ë´ìš”!
            console.log(this.circle.current);

            this.circle.current.style.background = "yellow";
        }


    âšªï¸ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë¶™ì´ê¸° 
        ğŸ”² ì´ì œ addEventListener()ë¥¼ ì´ìš©í•´ì„œ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.

        class App extends React.Component{
            constructor(props){
                super(props);

                this.state = {};
                this.circle = React.createRef(null);
            }

            componentDidMount(){ ;ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë¶™ì´ë ¤ë©´ DOM ìš”ì†Œê¹Œì§€ ì™„ì„±ë˜ì–´ìˆì–´ì•¼ í•œë‹¤.
                console.log(this.circle);ì´ë²¤íŠ¸ë¦¬ìŠ¤ë„ˆ ì˜ë¶™ì—ˆë‚˜
                ; ì´ë²¤íŠ¸ ì˜ë¶™ì€ê±° í™•ì¸í–ˆìœ¼ë©´ ì´ë²¤íŠ¸ë¦¬ìŠ¤ë„ˆ ë¶™ì—¬ì£¼ê¸° (ì–´ë–¤ì´ë²¤íŠ¸, ì–´ë–¤ í–‰ë™í• ê²Œ)
                this.circle.current.addEventListener("mouseover", this.hoverEvent);
            }

            componentWillUnmount() {

            }

            render(){...}


        ğŸ”² ì´ë²¤íŠ¸ëŠ” ê¼­ ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ë¼ì§€ë©´ ì§€ì›Œì£¼ì„¸ìš”!
        ì´ ê³¼ì •ì„ clean up ì´ë¼ê³  ë¶ˆëŸ¬ìš”. ì´ë²¤íŠ¸ëŠ” í•œë²ˆ ë“±ë¡ë˜ë©´ ê³„ì† ë‚¨ì•„ìˆê±°ë“ ìš”!
        ê·¸ëŸ°ë° ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ë¼ì§€ë©´ìš”? ì´ë²¤íŠ¸ê°€ ì‹¤í–‰ë˜ì§€ëŠ” ì•Šê² ì§€ë§Œ, ë‚¨ì•„ëŠ” ìˆì„ê±°ì˜ˆìš”. ğŸ˜¢ 
        ê·¸ëŸ¬ë‹ˆ ê¹¨ë—í•˜ê²Œ ì •ëˆí•´ì£¼ëŠ” ê³¼ì •ì´ í•„ìš”í•©ë‹ˆë‹¤! ê·¸ê²Œ clean upì´ê³ ìš”!

        ;App.js
        componentWillUnmount() { ;ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ë¼ì§ˆ ë•Œ
            this.circle.current.removeEventListener("mouseover", this.hoverEvent);
        }




ğŸŸ¡(í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ event listener êµ¬ë…í•˜ê¸°)
âšªï¸ useEffect()
useEffect()ëŠ” ë¦¬ì•¡íŠ¸ í›….
ë¼ì´í”„ ì‚¬ì´í´ í•¨ìˆ˜ ì¤‘ componentDidMountì™€ componentDidUpdate, componentWillUnmountë¥¼ í•©ì³ë‘” ê±°

	; ì²«ë²ˆì§¸ ì¸ìëŠ” ìµìˆ™í•˜ì£ ! í™”ì‚´í‘œ í•¨ìˆ˜! ë„µ, ë Œë”ë§ ì‹œ ì‹¤í–‰í•  í•¨ìˆ˜ê°€ ì—¬ê¸°ì— ë“¤ì–´ê°‘ë‹ˆë‹¤.
    ; ë‘ë²ˆì§¸ ì¸ìì˜ []! ë””íœë˜ì‹œ ì–´ë ˆì´ë¼ê³  ë¶ˆëŸ¬ìš”. ì—¬ê¸° ë„£ì–´ì¤€ ê°’ì´ ë³€í•˜ë©´ ì²«ë²ˆì§¸ ì¸ìì¸ ì½œë°±í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
    React.useEffect(() => {
    ; ì—¬ê¸°ê°€ rendering ë•Œ ì‹¤í–‰ë  êµ¬ë¬¸ì´ ë“¤ì–´ê°€ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤.
    ; componentDidMount, componentDidUpdateì¼ ë•Œ ë™ì‘í•˜ëŠ” ë¶€ë¶„ì´ ì—¬ê¸°ì˜ˆìš”.
    ; do something ...

        return () => {
            ;ì—¬ê¸°ê°€ clean up ë¶€ë¶„ì…ë‹ˆë‹¤.
            ;componentWillUnmount ë•Œ ë™ì‘í•˜ëŠ” ë¶€ë¶„ì´ ì—¬ê¸°ì˜ˆìš”.
            ;do something ...
        };
    }, []);
































































