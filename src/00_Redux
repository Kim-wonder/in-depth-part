

ë¦¬ë•ìŠ¤ ì™œ ì“°ëŠ”ê°€?
ë¦¬ë•ìŠ¤ ì™œ ì“°ëŠ”ê°€?
ë¦¬ë•ìŠ¤ ì™œ ì“°ëŠ”ê°€?
ë¦¬ë•ìŠ¤ ì™œ ì“°ëŠ”ê°€?

1. ìƒíƒœê´€ë¦¬ë¥¼ í•  ë•Œ!
2. Appì— ìˆëŠ” í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‘ ê°œë¡œ ë¶„ë¦¬í•˜ê³  ì‹¶ë‹¤ë©´ ?
3. stateì™€ propsë¥¼ ì´ìš©í•´ì„œ ë§Œë“¤ë©´, ì¶”í›„ì— App ì»´í¬ë„ŒíŠ¸ë¥¼ ìˆ˜ì •í•˜ê³  ì‹¶ì–´ë„ ì–´ë µë‹¤.
    ìì‹ ì»´í¬ë„ŒíŠ¸ëŠ” ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì˜ stateë¥¼ ë§˜ëŒ€ë¡œ ì¡°ì‘í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸!
4. ê·¸ë ‡ë‹¤ë©´ ë§Œì•½ App ì»´í¬ë„ŒíŠ¸ì™€ ìƒˆë¡œ ë¶„ë¦¬í•  ì»´í¬ë„ŒíŠ¸ê°€ ê°™ì€ ë°ì´í„°ì €ì¥ì†Œì— ìˆë‹¤ë©´?
5. ìƒˆ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¶”ê°€í•˜ë©´, Appì´ ë³´ê³ ìˆëŠ” ë°ì´í„°ë„ ê°™ì´ ì¶”ê°€ê°€ ë ê²ƒ!!

>> ì´ ê°œë…ì´ ë°”ë¡œ ë¦¬ë•ìŠ¤!! ë¦¬ë•ìŠ¤ëŠ” ë°ì´í„°ë¥¼ í•œ êµ°ë° ëª°ì•„ë„£ê³ , ì—¬ê¸°ì €ê¸° êº¼ë‚´ë³¼ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤

â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸

ìƒíƒœê´€ë¦¬íˆ´
ã… ã… 


â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸

ğŸ¦† Store
ì „ì—­ìœ¼ë¡œ ê°€ì§€ê³  ìˆëŠ” ë°ì´í„°
dictionary í˜•íƒœë¡œ ë³´ê´€í•œë‹¤ { [key] : value; }

ğŸ¦† Action
ìƒíƒœë¥¼ ë³€í™”ì‹œí‚¬ë•Œ ë°œìƒí•¨
ê°ì²´ í˜•íƒœë¡œ ì”€ {type: 'CHANGE_STATE', data:{...}}

ğŸ¦† ActionCreator
ì•¡ì…˜ìƒì„± í•¨ìˆ˜ / ì•¡ì…˜ì„ ë§Œë“¤ê¸° ìœ„í•´ ì‚¬ìš©í•¨
í•¨ìˆ˜ í˜•íƒœë¡œ ì”€ export const createBucket = (textBucket) => { return {type: CREATE, textBucket}; }

ğŸ¦† Reducer
ë¦¬ë•ìŠ¤ì— ì €ì¥ëœ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜
ìƒíƒœ, ë¦¬ë•ìŠ¤ì˜ ë°ì´í„°ê°’ì„ ê°€ì ¸ì˜´ / ì•¡ì…˜ì„ í˜¸ì¶œí•˜ê¸° ìœ„í•œ ë‚´ì¥í•¨ìˆ˜ë¥¼ í¬í•¨í•¨
dictionary í˜•íƒœë¡œ ì”€

ğŸ¦† dispatch
ì•¡ì…˜ì„ ë°œìƒì‹œí‚¤ëŠ” ì—­í• ì„ í•¨
storeì˜ ë‚´ì¥í•¨ìˆ˜ë¡œ ìì£¼ ì“°ì„!

â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸

ê¸°ì–µí•´ì•¼ í•  íŠ¹ì§• 3ê°€ì§€
1) StoreëŠ” 1ê°œë§Œ ì“´ë‹¤
    ë‹¨ì¼ìŠ¤í† ì–´ ê·œì¹™ : í•œ í”„ë¡œì íŠ¸ì—ëŠ” í•œ ìŠ¤í† ì–´ë§Œ ì¡´ì¬í•˜ë„ë¡
2) Storeì˜ StateëŠ” ì˜¤ì§ Actionìœ¼ë¡œë§Œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
    ë¶ˆë³€ì„±
3) ì–´ë–¤ ìš”ì²­ì´ ì™€ë„ ReducerëŠ” ê°™ì€ ë™ì‘ì„ í•´ì•¼í•œë‹¤.
    ì¦‰ ReducerëŠ” ìˆœìˆ˜í•œ í•¨ìˆ˜ì—¬ì•¼í•œë‹¤.

â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸

ë¦¬ë•ìŠ¤ ì„¤ì •í•˜ê¸°
(ë°ì´í„° ë°›ì•„ì˜¤ê¸° - ëª¨ë“ˆ, ì•¡ì…˜, ì•¡ì…˜í•¨ìˆ˜, ë¦¬ë“€ì„œ, ìŠ¤í† ì–´ ì‚¬ìš©í•˜ëŠ” ë°©ë²•)

1. ë¦¬ë•ìŠ¤ íŒ¨í‚¤ì§€ ì„¤ì¹˜í•˜ê¸°
2. redux í´ë” ë§Œë“¤ê³  ì•ˆì— modules í´ë” ë§Œë“¤ê¸° (ì•ˆì— íŒŒì¼ì€ ì†Œë¬¸ì)
3. í´ë” modules ì•ˆì— ë§Œë“  íŒŒì¼(ì˜ˆë¥¼ë“¤ë©´ counter.js , buket.js)ì— 
   ëª¨ë“ˆì„ ë§Œë“ ë‹¤. (action, actioní•¨ìˆ˜, reducer)

* ëª¨ë“ˆ(module) : state ë“¤ì˜ ë¬¶ìŒ
* ìŠ¤í† ì–´(store) : ìŠ¤í† ì–´ ì•ˆì—ëŠ” state ê°’ê³¼ reducer ê·¸ë¦¬ê³  ë‚´ì¥í•¨ìˆ˜ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤.




1. ë¦¬ë•ìŠ¤ íŒ¨í‚¤ì§€ ì„¤ì¹˜
    ëª…ë ¹ì–´ ì…ë ¥ : yarn add redux react-redux
    reduxëŠ” reactì™€ ë³„ê°œì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì´ë¯€ë¡œ,
    reduxíŒ¨í‚¤ì§€ í•˜ë‚˜ì™€ reactì™€ reduxë¥¼ ì—°ê²°í•´ì£¼ëŠ” react-redux ì´ ë‘ê°œë¥¼ ì„¤ì¹˜í•´ì£¼ì–´ì•¼ í•œë‹¤.
2. í´ë”, íŒŒì¼ ë§Œë“¤ê¸°
    src í´ë” ì•ˆì— reduxí´ë”ë¥¼ ë§Œë“¤ê³ , ê·¸ì•ˆì— modulesí´ë”ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤.
    moduleíŒŒì¼ì˜ ì´ë¦„ì€ ì†Œë¬¸ìë¡œ ë§Œë“ ë‹¤.! (bucket.js)
3. ì´ 3ê°€ì§€, action, actioní•¨ìˆ˜, reducerë¥¼ ë§Œë“ ë‹¤.
    3-1. Actions ìƒì„±
        actionì˜ ì´ë¦„ì€ ëŒ€ë¬¸ìë¡œ ì¤Œ (LODA)
        stateê°’ì€ ê°ì²´í˜•ì‹ìœ¼ë¡œ ì ê¸°
    3-2. initialState ìƒì„±
4. Action Creators ìƒì„±
    í•¨ìˆ˜ë¥¼ ë§Œë“ ë‹¤.
    returnê°’ì— actionì˜ typeëª…ê³¼ ê°€ì ¸ì˜¤ëŠ”ê°’(ì—¬ê¸°ì„œëŠ” inputëœ textBucketê°’)ì„ ì¨ì¤Œ
5. Reducer ìƒì„±
    export default function reducer(state={}, action={}){ switch(action.type){ 
        case '~action~' : { return ~ ;} default: return state;}}
    export default ë¡œ reducer í•¨ìˆ˜ë¥¼ ë¹¼ì£¼ê¸°!
    stateì™€ actionê°’ ì§€ì •
    switchë¬¸ìœ¼ë¡œ action ë°›ì•„ì˜¤ê³ , returní•´ì„œ ë¹¼ë‚´ì¤€ë‹¤.
6. Store ë§Œë“¤ê¸°
configStore.js
    í•„ìš”í•œê²ƒ import í•´ì˜¤ê¸°
        import { createStore, combineReducersë¡œ } from 'redux';
        import buket from './modules/buket';
        import { createBrowserHistory } from 'history';

    combineReducersë¡œ reducer í•©ì³ì£¼ê¸°, storeì— ì§‘ì–´ë„£ê¸°
        //ë¦¬ë“€ì„œ í•©ì³ì£¼ê¸°
        const rootReducer = combineReducers({bucket});
        //ìŠ¤í† ì–´ ë§Œë“¤ì–´ì„œ ì£¼ì…í•˜ê¸°
        const store = cresteStore(rootReducer);
        //ìŠ¤í† ì–´ export store í•´ì£¼ê¸°
        export default store;

â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸

ë¦¬ë•ìŠ¤ ì˜ˆì œ
ë¦¬ë•ìŠ¤ ì˜ˆì œ
ë¦¬ë•ìŠ¤ ì˜ˆì œ


ğŸ’¡ ì„¤ì •ì½”ë“œ

// src/configStore.js
src/configStore.js ì— ì•„ë˜ ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.

import { createStore } from "redux";
import { combineReducers } from "redux";

const rootReducer = combineReducers({});
const store = createStore(rootReducer);

export default store;



// index.js 
ë””ë ‰í† ë¦¬ì˜ ê°€ì¥ ìµœìƒë‹¨ì— ìˆëŠ” index.jsì— ì•„ë˜ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”.

; // ì›ë˜ë¶€í„° ìˆë˜ ì½”ë“œ
import React from "react";
import ReactDOM from "react-dom/client";
import App from "./App";
import reportWebVitals from "./reportWebVitals";

; // ìš°ë¦¬ê°€ ì¶”ê°€í•  ì½”ë“œ
import store from "./redux/config/configStore";
import { Provider } from "react-redux";

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(

; Appì„ Providerë¡œ ê°ì‹¸ì£¼ê³ , configStoreì—ì„œ export default í•œ storeë¥¼ ë„£ì–´ì¤ë‹ˆë‹¤.
    <Provider store={store}>
        <App />
    </Provider>
);



ğŸ’¡ ëª¨ë“ˆ ë§Œë“¤ê¸°
ëª¨ë“ˆì´ë€, Stateì˜ ê·¸ë£¹.
ìš°ë¦¬ì˜ ì²« ëª¨ë“ˆì€ ì¹´ìš´í„° í”„ë¡œê·¸ë¨ì— í•„ìš”í•œ Stateë“¤ì´ ëª¨ì—¬ìˆëŠ” ëª¨ë“ˆì´ ë  ê²ƒ ì…ë‹ˆë‹¤.

1. `modules` í´ë”ì— `counter.js` íŒŒì¼ì„ ìƒì„±í•œë‹¤.
2. ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.
// src/modules/counter.js

// ì´ˆê¸° ìƒíƒœê°’
const initialState = {
  number: 0,
};

// ë¦¬ë“€ì„œ
const counter = (state = initialState, action) => {
  switch (action.type) {
    default:
      return state;
  }
};

// ëª¨ë“ˆíŒŒì¼ì—ì„œëŠ” ë¦¬ë“€ì„œë¥¼ export default í•œë‹¤.
export default counter;

=======================================================

ì‚´í´ë³´ì

1) initialState === ì´ˆê¸° ìƒíƒœê°’ 
ì–´ë–¤ Stateì˜ ì´ˆê¸°ê°’ì„ ì •í•´ì£¼ëŠ” ê²ƒ.
useStateë¥¼ ì‚¬ìš©í–ˆì„ ë•Œ ê´„í˜¸ ì•ˆì— ì´ˆê¸°ê°’ì„ ì§€ì •í•´ì£¼ë˜ ê²ƒê³¼ ê°™ì€ ì´ì¹˜ì…ë‹ˆë‹¤. 
" 
const [number, setNumber] = useState(0) 
"


"
// ì´ˆê¸° ìƒíƒœê°’
const initialState = {
  number: 0,
};
"

ì—¬ê¸°ì„œ Stateì˜ ì´ˆê¸°ê°’ì€  { } (ê°ì²´) ì´ê³ , ê·¸ ì•ˆì— number ë¼ëŠ” ë³€ìˆ˜ì— ì´ˆê¸°ê°’ 0ì„ í• ë‹¹í•´ì¤€ ê²ƒ.
ì´ˆê¸°ê°’ì€ ê°ì²´, ë°°ì—´, ì›ì‹œë°ì´í„°ë„ ê°€ëŠ¥í•˜ê³  ê°ì²´ ì•ˆì— ì—¬ëŸ¬ ë³€ìˆ˜ë¥¼ ë„£ì„ ìˆ˜ë„ ìˆë‹¤.

// ì´ˆê¸°ê°’ì´ 0
const initialState = 0;

// ì´ˆê¸°ê°’ì´ 0ì´ ìˆëŠ” ë°°ì—´ 
const initialState = [0];

// ì´ˆê¸°ê°’ì´ number = 0, name = 'ì„êµ¬'ì¸ ê°ì²´
const initialState = {
	number: 0,
	name: 'ì„êµ¬'
};



2) Reducer === ë³€í™”ë¥¼ ì¼ìœ¼í‚¤ëŠ” í•¨ìˆ˜

"
// ë¦¬ë“€ì„œ 
const counter = (state = initialState, action) => {
  switch (action.type) {
    default:
      return state;
  }
};
"

ìš°ë¦¬ê°€ useState()ë¥¼ ì‚¬ìš©í•  ë•Œ, numberë¼ëŠ” ê°’ì„ ë°”ê¾¸ê³  ì‹¶ìœ¼ë©´ setNumberë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.
" 
const onClickHandler = () => {
    setNumber(number + 1); // setStateë¥¼ ì´ìš©í•´ì„œ state ë³€ê²½
} 
"


**ë¦¬ë•ìŠ¤ì—ì„œëŠ” ë¦¬ë“€ì„œê°€ ì´ ì—­í• ì„ í•©ë‹ˆë‹¤.** 

ìš°ë¦¬ê°€ "ë¦¬ë“€ì„œì•¼ numberì— +1ë¥¼ í•´ì¤˜" ë¼ê³  ëª…ë ¹í•˜ë©´, ë¦¬ë“€ì„œëŠ”  numberì— +1ì„ ë”í•´ì¤ë‹ˆë‹¤.


ë¦¬ë“€ì„œì˜ ì¸ìì— ë³´ë©´ `(state = intialState, action)` ì´ë¼ê³  ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

ìš°ë¦¬ëŠ” ë¦¬ë“€ì„œ ì¸ì ì²«ë²ˆì§¸ ìë¦¬ì—ì„œëŠ”  `state`ë¥¼, 
ë‘ë²ˆì§¸ ìë¦¬ì—ì„œëŠ” `action` ì´ë¼ëŠ” ê²ƒì„ êº¼ë‚´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
ì´ê²ƒì´ ë¬´ì—‡ì¸ì§€ëŠ” ì§€ê¸ˆ ë‹¹ì¥ ëª°ë¼ë„ ë©ë‹ˆë‹¤. 
ë‹¤ë§Œ, `state = intialState` ì²˜ëŸ¼ `state`ì—  `initialState`ë¥¼ í• ë‹¹í•´ì¤˜ì•¼ í•˜ëŠ” ê²ƒë§Œ ê¸°ì–µí•´ì£¼ì„¸ìš”.



3) ì¹´ìš´í„° ëª¨ë“ˆì„ ìŠ¤í† ì–´ì— ì—°ê²°í•˜ê¸°
ì§€ê¸ˆê¹Œì§€ ëª¨ë“ˆíŒŒì¼ì—ì„œ ì´ˆê¸° ìƒíƒœê°’ê³¼ ë¦¬ë“€ì„œë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. 
ì´ì œ ìš°ë¦¬ê°€ ë§Œë“  ëª¨ë“ˆì„ ìŠ¤í† ì–´ì— ì—°ê²° ì‹œì¼œì•¼ í•©ë‹ˆë‹¤. 
ì•„ì§ê¹Œì§„ ëª¨ë“ˆê³¼ ìŠ¤í† ì–´ê°€ ê°ê° ë”°ë¡œ ë¶„ë¦¬ë˜ì–´ ìˆëŠ” ìƒíƒœì´ê¸° ë•Œë¬¸ì— 
ìš°ë¦¬ê°€ ë§Œë“  Stateë¥¼ ìŠ¤í† ì–´ì—ì„œ êº¼ë‚¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.


configStore.jsë¡œ ì´ë™í•´ì„œ ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”.
// src/redux/modules/config/configStore.js


// ì›ë˜ ìˆë˜ ì½”ë“œ
import { createStore } from "redux";
import { combineReducers } from "redux";

// ìƒˆë¡­ê²Œ ì¶”ê°€í•œ ë¶€ë¶„
import counter from "../modules/counter";

const rootReducer = combineReducers({
  counter: counter, // <-- ìƒˆë¡­ê²Œ ì¶”ê°€í•œ ë¶€ë¶„
});
const store = createStore(rootReducer);

export default store;

ì´ëŸ¬ë©´ ìŠ¤í† ì–´ì™€ ëª¨ë“ˆì´ ì—°ê²°ë©ë‹ˆë‹¤.



ğŸ’¡ ìŠ¤í† ì–´ì™€ ëª¨ë“ˆ ì—°ê²° í™•ì¸í•˜ê¸°
1) useSelector = ìŠ¤í† ì–´ ì¡°íšŒ

ìš°ë¦¬ê°€ ìƒì„±í•œ ëª¨ë“ˆì„ ìŠ¤í† ì–´ì— ì˜ ì—°ê²°í–ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°©ë²•ì€ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìŠ¤í† ì–´ë¥¼ ì§ì ‘ ì¡°íšŒí•˜ë©´ ë©ë‹ˆë‹¤. 
ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ë¥¼ ì¡°íšŒí•˜ê³ ì í• ë•ŒëŠ” useSelectorë¼ëŠ” â€˜react-reduxâ€™ì˜ í›…ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. 

useSelectorì˜ ì‚¬ìš©ë²•
// 1. storeì—ì„œ êº¼ë‚¸ ê°’ì„ í• ë‹¹ í•  ë³€ìˆ˜ë¥¼ ì„ ì–¸í•©ë‹ˆë‹¤.
const number = 

// 2. useSelector()ë¥¼ ë³€ìˆ˜ì— í• ë‹¹í•´ì¤ë‹ˆë‹¤.
const number = useSelector() 

// 3. useSelectorì˜ ì¸ìì— í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ë„£ì–´ì¤ë‹ˆë‹¤.
const number = useSelector( ()=>{} )

// 4. í™”ì‚´í‘œ í•¨ìˆ˜ì˜ ì¸ìì—ì„œ ê°’ì„ êº¼ë‚´ return í•©ë‹ˆë‹¤. 
// ìš°ë¦¬ê°€ useSelectorë¥¼ ì²˜ìŒ ì‚¬ìš©í•´ë³´ëŠ” ê²ƒì´ë‹ˆ, stateê°€ ì–´ë–¤ ê²ƒì¸ì§€ ì½˜ì†”ë¡œ í™•ì¸í•´ë³¼ê¹Œìš”?
const number = useSelector((state) => {
	console.log(state)
	return state
});

// App.js
import React from 'react';
//useSelector, useDispatch ë¦¬ë•ìŠ¤ ë‚´ì¥í•¨ìˆ˜(Hook)ì´ë¯€ë¡œ ì“°ë ¤ë©´ ë¶ˆëŸ¬ì™€ì•¼í•œë‹¤.
import { useSelector } from 'react-redux';


function App() {
  const counterStore = useSelector((state) => state);
  console.log(counterStore);

  return (
    <div></div>
  );
}

export default App;


 ğŸ”¥ ğŸ”¥ ğŸ”¥ ğŸ”¥ ğŸ”¥ ğŸ”¥ ğŸ”¥ ğŸ”¥ ğŸ”¥ ğŸ”¥ ğŸ”¥ ğŸ”¥ ğŸ”¥ ğŸ”¥ ğŸ”¥ ğŸ”¥ ğŸ”¥ ğŸ”¥ ğŸ”¥ ğŸ”¥
 ìš°ë¦¬ëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ ìŠ¤í† ì–´ë¥¼ ì¡°íšŒí•  ë•Œ
`react-redux`ì—ì„œ ì œê³µí•˜ëŠ” `useSelector` ë¼ëŠ” í›…ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

ë¸Œë¼ìš°ì €ë¥¼ ì¼œê³ , ì½˜ì†”ì„ ë³´ë©´ ì•„ë˜ ì´ë¯¸ì§€ì²˜ëŸ¼ ê°ì²´ê°€ ë³´ì´ê³ , 
ê·¸ ì•ˆì— counter ë¼ëŠ” ê°’ì´ ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ìš°ë¦¬ê°€ ë§Œë“  counter ë¼ëŠ” ëª¨ë“ˆì˜ stateê°€ ë³´ì´ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ì´ë ‡ê²Œ í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œ êº¼ë‚¸ stateë¼ëŠ” ì¸ìëŠ” í˜„ì¬ í”„ë¡œì íŠ¸ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  ë¦¬ë•ìŠ¤ ëª¨ë“ˆì˜ state ì¸ ê²ƒ ì…ë‹ˆë‹¤.



ì´ì œ ìš°ë¦¬ëŠ” ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ì—ì„œë„ ì ‘ê·¼ í•  ìˆ˜ ìˆëŠ” ìŠ¤í† ì–´ë¥¼ ê°€ì§€ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. 
ë§Œì•½ ìš°ë¦¬ê°€ ì»´í¬ë„ŒíŠ¸ì—ì„œ numberë¼ëŠ” ê°’ì„ ì‚¬ìš©í•˜ê³ ì í•œë‹¤ë©´ ì•„ë˜ ì½”ë“œì²˜ëŸ¼ êº¼ë‚´ì„œ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤. 
const number = useSelector(state => state.counter.number); // 0


â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸

1. counter.js ëª¨ë“ˆì˜ state ìˆ˜ì • ê¸°ëŠ¥ ë§Œë“¤ê¸° (+ 1 ê¸°ëŠ¥ êµ¬í˜„í•´ë³´ê¸°)


1) **ì–´ë–»ê²Œ counter.js ëª¨ë“ˆì— ìˆëŠ” stateì˜ ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆì„ê¹Œ?**

ìš°ë¦¬ê°€ useState()ë¥¼ ì‚¬ìš©í•´ì„œ numberì— +1ì„ í•  ë•ŒëŠ” setNumberì„ ì´ìš©í•´ì„œ +1ì„ í•´ì£¼ì—ˆìŠµë‹ˆë‹¤. 
ğŸ›  useStateë¥¼ ì“¸ ê²½ìš°

// local state
const [number, setNumber] = useState(0)

// click handler
const onClickHandler = () => {
	setNumber(number + 1)
}

>>> ë¦¬ë•ìŠ¤ì—ì„œ ê°’ì˜ ìˆ˜ì •ì€ ë¦¬ë“€ì„œì—ì„œ ì¼ì–´ë‚œë‹¤


ë§Œì•½ì— counter.js ëª¨ë“ˆì— ìˆëŠ” numberì— +1ì„ í•˜ê³  ì‹¶ìœ¼ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?

â­•ï¸ 1/ ë¦¬ë“€ì„œì—ì„œ ë³´ë‚¼ numberì— ë”í•˜ê¸° 1í•˜ë¼ëŠ” ëª…ë ¹ì„ ë§Œë“ ë‹¤.
â­•ï¸ 2/ ëª…ë ¹ì„ ë¦¬ë“€ì„œì—ê²Œ ë³´ë‚¸ë‹¤.
â­•ï¸ 3/ ë¦¬ë“€ì„œê°€ ëª…ë ¹ì„ ë°›ì•„ ë”í•˜ê¸° 1ì„ í•œë‹¤.

so,################################################
â­•ï¸ 1/ ë¦¬ë“€ì„œì—ì„œ ë³´ë‚¼ numberì— ë”í•˜ê¸° 1í•˜ë¼ëŠ” ëª…ë ¹ì„ ë§Œë“¤ê¸°
ëª…ë ¹ì€ actionì´ë¼ í•œë‹¤. actionì„ ì½”ë“œë¡œ ë‚˜íƒ€ë‚´ë©´ ê°ì²´ê°€ ë˜ë¯€ë¡œ
ì´ë¥¼ "ì•¡ì…˜ ê°ì²´" ë¼ê³  í•œë‹¤.

ì•¡ì…˜ ê°ì²´ëŠ” ë°˜ë“œì‹œ typeì´ë¼ëŠ” key ê°’ì„ ê°€ì ¸ì•¼ í•œë‹¤.
ì™œëƒë©´ ìš°ë¦¬ê°€ ì•¡ì…˜ ê°ì²´ë¥¼ ë¦¬ë“€ì„œ ì—ê²Œ ë³´ëƒˆì„ ë•Œ ë¦¬ë“€ì„œëŠ” ê°ì²´ ì•ˆì˜ typeì´ë¼ëŠ” keyë¥¼ í™•ì¸í•˜ê¸° ë•Œë¬¸ì—

//numberì— +1 ì„ í•˜ëŠ” ì•¡ì…˜ ê°ì²´
{ type : "PLUS_ONE" };



â­•ï¸ 2/ ëª…ë ¹=ì•¡ì…˜ ê°ì²´ë¥¼ ë¦¬ë“€ì„œì—ê²Œ ë³´ë‚¸ë‹¤.
ì•¡ì…˜ê°ì²´ë¥¼ ë³´ë‚´ê¸° ë¦¬ë“€ì„œë¡œ ë³´ë‚´ê¸°ìœ„í•´ì„œëŠ” ìƒˆë¡œìš´ í›…ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. 

useDispatch

ìš°ë¦¬ê°€ ë§Œë“  ì•¡ì…˜ ê°ì²´ë¥¼ ë¦¬ë“€ì„œë¡œ ë³´ë‚´ì£¼ëŠ” ì—­í• ì„ í•˜ëŠ” í›…ì…ë‹ˆë‹¤. 

ğŸ”¥ useDispatchë¼ëŠ” í›…ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ ì•„ë˜ì™€ ê°™ì´ 
ì½”ë“œë¥¼ ì‘ì„±í•´ì„œ dispatchë¼ëŠ” ë³€ìˆ˜ë¥¼ ìƒì„±í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.
ì´ dispatchëŠ” í•¨ìˆ˜ë‹¤! ì‚¬ìš©í•  ë•ŒëŠ” ()ë¥¼ ë¶™ì—¬ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ ëœë‹¤.



// src/App.js

import React from "react";
import { useDispatch } from "react-redux"; // ë¦¬ë•ìŠ¤ í›…ì´ë¯€ë¡œ import í•´ì•¼ ì“¸ ìˆ˜ ìˆë‹¤.

const App = () => {
  const dispatch = useDispatch(); // dispatch ìƒì„±
  return (
    <div>
      <button> ë”í•˜ê¸° </button> 
    </div>
  );
};

export default App;

ê·¸ë¦¬ê³  dispatchë¥¼ ì‚¬ìš©í•  ë•Œ ( ) ì•ˆì— ì•¡ì…˜ê°ì²´ë¥¼ ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤. 
ë§Œì•½ ì–´ë–¤ ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ ë¦¬ë“€ì„œë¡œ ì•¡ì…˜ê°ì²´ë¥¼ ë³´ë‚´ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.


// src/App.js

import React from "react";
import { useDispatch } from "react-redux"; 

const App = () => {
    const dispatch = useDispatch(); 
    return (
        <div>
        <button
            ; // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì¶”ê°€
            onClick={() => {
            ; // ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ dispatchê°€ ì‹¤í–‰ë˜ê³ , ()ì•ˆì˜ ì•¡ì…˜ê°ì²´ê°€ ë¦¬ë“€ì„œë¡œ ì „ë‹¬ëœë‹¤.
            ; // ì•¡ì…˜ê°ì²´ëŠ” ë°˜ë“œì‹œ typeì´ë¼ëŠ” keyë¥¼ ê°€ì ¸ì•¼ í•œë‹¤. 
            ; // ë¦¬ë“€ì„œê°€ ì•¡ì…˜ê°ì²´ ì•ˆì— ìˆëŠ” typeì˜ keyê°’ì„ í™•ì¸í•˜ê¸° ë•Œë¬¸ì´ë‹¤. 
            ; // ì•¡ì…˜ê°ì²´ = {type: "PLUS_ONE"}
            dispatch({ type: "PLUS_ONE" }); 
            }}
        >
                    + 1
        </button>
        </div>
    );
    };

export default App;



â­•ï¸ 3/ ë¦¬ë“€ì„œê°€ ëª…ë ¹ì„ ë°›ì•„ ë”í•˜ê¸° 1ì„ í•œë‹¤.
3-1 ì•¡ì…˜ ê°ì²´ ë°›ê¸°
dispatchë¥¼ ì´ìš©í•´ ë¦¬ë“€ì„œë¡œ ì•¡ì…˜ì„ ë³´ë‚´ê¸´ ë³´ëƒˆì§€ë§Œ, 
ë¬´ì–¸ê°€ ëˆˆìœ¼ë¡œ ë³´ì´ëŠ”ê²Œ ì—†ìœ¼ë‹ˆ ì´ê²Œ ì§€ê¸ˆ ì˜ ëœê±´ê°€? ê¶ê¸ˆí•˜ì§€ ì•Šìœ¼ì‹ ê°€ìš”? 
ìš°ë¦¬ê°€ ì•¡ì…˜ê°ì²´ë¥¼ ë¦¬ë“€ì„œë¡œ ë³´ëƒˆìœ¼ë‹ˆ, ë¦¬ë“€ì„œì—ì„œ ì•¡ì…˜ê°ì²´ê°€ ì˜ ì™”ëŠ”ì§€ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.

í˜„ì¬ counter.js ëª¨ë“ˆì˜ ì½”ë“œ ì´ ìƒíƒœ ì¼ ê²ƒ ì…ë‹ˆë‹¤.
ìš°ë¦¬ê°€ App.jsì—ì„œ ë³´ë‚¸ ì•¡ì…˜ê°ì²´ë¥¼ ë°›ì„ ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•´ë³¼ ê²ƒ ì…ë‹ˆë‹¤.

// src/redux/modules/counter.js

// ì´ˆê¸° ìƒíƒœê°’
    const initialState = {
    number: 0,
    };

    // ë¦¬ë“€ì„œ
    const counter = (state = initialState, action) => {
        console.log(action); // ì—¬ê¸°ì— console.log(action) ì¶”ê°€
    switch (action.type) {
        default:
        return state;
    }
    };

// ëª¨ë“ˆíŒŒì¼ì—ì„œëŠ” ë¦¬ë“€ì„œë¥¼ export default í•œë‹¤.
export default counter;



3-2 ë”í•˜ê¸° 1 êµ¬í˜„í•˜ê¸°
ì´ì œ ì•¡ì…˜ê°ì²´ë¥¼ ì˜ ë³´ë‚´ê³ , ì˜ ë°›ê³  ìˆìŒì„ í™•ì¸í–ˆëŠë‹ˆ 
stateì— ìˆëŠ” numberë¥¼ ì‹¤ì œë¡œ ë³€ê²½í•˜ëŠ” ë¡œì§ ì½”ë“œë¥¼ êµ¬í˜„í•´ë³¼ê²Œìš”. 
ë¡œì§ì½”ë“œëŠ” ë¦¬ë“€ì„œ ì•ˆì— ìˆëŠ” ìŠ¤ìœ„ì¹˜ë¬¸ìœ¼ë¡œ ì‘ì„±ë©ë‹ˆë‹¤. 


ë¦¬ë“€ì„œê°€ ì•¡ì…˜ê°ì²´ë¥¼ ë°›ì•„ ìƒíƒœë¥¼ ë°”ê¾¸ëŠ” ì›ë¦¬ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

1. ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° dispatchë¥¼ í†µí•´ ì•¡ì…˜ê°ì²´ë¥¼ ì „ë‹¬ ë°›ëŠ”ë‹¤.
2. action ì•ˆì— ìˆëŠ” typeì„ ìŠ¤ìœ„ì¹˜ë¬¸ì„ í†µí•´ í•˜ë‚˜ì”© ê²€ì‚¬í•´ì„œ, ì¼ì¹˜í•˜ëŠ” caseë¥¼ ì°¾ëŠ”ë‹¤.
3. typeê³¼ caseê°€ ì¼ì¹˜í•˜ëŠ” ê²½ìš°ì—, í•´ë‹¹ ì½”ë“œê°€ ì‹¤í–‰ë˜ê³  ìƒˆë¡œìš´ stateë¥¼ ë°˜í™˜(return) í•œë‹¤.
4. ë¦¬ë“€ì„œê°€ ìƒˆë¡œìš´ stateë¥¼ ë°˜í™˜í•˜ë©´, ê·¸ê²Œ ìƒˆë¡œìš´ ëª¨ë“ˆì˜ stateê°€ ëœë‹¤.



// src/modules/counter.js

// ì´ˆê¸° ìƒíƒœê°’
const initialState = {
    number: 0,
};

// ë¦¬ë“€ì„œ
const counter = (state = initialState, action) => {
    console.log(action);
    switch (action.type) {
        ; // PLUS_ONEì´ë¼ëŠ” caseë¥¼ ì¶”ê°€í•œë‹¤.
        ; // ì—¬ê¸°ì„œ ë§í•˜ëŠ” caseë€, action.typeì„ ì˜ë¯¸í•œë‹¤.
        ; // dispatchë¡œë¶€í„° ì „ë‹¬ë°›ì€ actionì˜ typeì´ "PLUS_ONE" ì¼ ë•Œ
        ; // ì•„ë˜ return ì ˆì´ ì‹¤í–‰ëœë‹¤. 
        case "PLUS_ONE":
        return {
        ; // ê¸°ì¡´ stateì— ìˆë˜ numberì— +1ì„ ë”í•œë‹¤.
            number: state.number + 1,
        };

        default:
        return state;
    }
    };

// ëª¨ë“ˆíŒŒì¼ì—ì„œëŠ” ë¦¬ë“€ì„œë¥¼ export default í•œë‹¤.
export default counter;


actionì´ {type: â€œPLUS_ONEâ€}  ì´ê¸° ë•Œë¬¸ì—, 
ë¦¬ë“€ì„œ ì•ˆì— ìˆëŠ” ìŠ¤ìœ„ì¹˜ë¬¸ì€ action.typeì„ ì¡°íšŒí•©ë‹ˆë‹¤. 
ê·¸ë¦¬ê³  ê·¸ê²ƒì´ ì¼ì¹˜í•˜ë©´ return  ì ˆì´ ì‹¤í–‰ë˜ê³  ìƒˆë¡œìš´ stateë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. 
ë§‰ìƒ ê¸€ë¡œ ë³´ë©´ ë³µì¡í•´ë³´ì˜€ì§€ë§Œ, ì½”ë“œë¡œ ë³´ë©´ ìŠ¤ìœ„ì¹˜ë¬¸ì— caseë¥¼ í•˜ë‚˜ ì¶”ê°€í•´ì£¼ëŠ” ê²ƒìœ¼ë¡œ ì™„ë£Œë©ë‹ˆë‹¤.

ì´ì œ ìš°ë¦¬ê°€ dispatchë¥¼ í†µí•´ ì•¡ì…˜ê°ì²´ë¥¼ App.js ì»´í¬ë„ŒíŠ¸ì—ì„œ ë³´ëƒˆê³ , 
ê·¸ê²ƒì„ ë¦¬ë“€ì„œì—ì„œ ë°›ì•„ ìŠ¤ìœ„ì¹˜ë¬¸ì„ í†µí•´ ì¡°ê±´ì„ ì°¾ì•˜ê³ , 
ê·¸ì— í•´ë‹¹í–ˆì„ ë•Œ stateê°’ì„ ë³€ê²½í•˜ëŠ” ë¡œì§ê¹Œì§€ ëª¨ë‘ êµ¬í˜„í–ˆìœ¼ë‹ˆ
ì •ë§ stateê°€  ì˜ ë³€ê²½ë˜ëŠ”ì§€ í™•ì¸í•´ë´…ì‹œë‹¤.


3-3 useSelectorë¡œ ë³€ê²½ëœ stateê°’ í™•ì¸í•˜ê¸°

useSelectorë¥¼ ì´ìš©í•´ì„œ App.jsì—ì„œ stateê°’ì„ ì¡°íšŒí•´ë´…ì‹œë‹¤. 
App.jsë¡œ ì´ë™í•´ì„œ useSelectorë¥¼ ì‘ì„±í•˜ê³ , numberë¥¼ ì½˜ì†”ì— ì°ì–´ë´…ì‹œë‹¤.


// src/App.js

import React from "react";
import { useDispatch, useSelector } from "react-redux";

const App = () => {
    const dispatch = useDispatch();

        // ğŸ‘‡ ì½”ë“œ ì¶”ê°€
    const number = useSelector((state) => state.counter.number); 

    console.log(number); // ì½˜ì†” ì¶”ê°€
    return (
        <div>
        ; {/* ğŸ‘‡ ì½”ë“œ ì¶”ê°€ */}
        {number}
        <button
            onClick={() => {
            dispatch({ type: "PLUS_ONE" });
            }}
        >
            + 1
        </button>
        </div>
    );
    };

export default App;



â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸


1. Action Creator

-Action Creator ë€?
ë§Œì•½ì— ìš°ë¦¬ê°€ ì•¡ì…˜ê°ì²´ì˜ valueë¥¼ ë³€ê²½í•  ì¼ì´ ìƒê¸´ë‹¤ë©´ ì–´ë–¨ê¹Œ?

PLUS_ONE , MINUS_ONE ì´ë¼ëŠ” value ëŒ€ì‹  
ì´ ì•¡ì…˜ê°ì²´ê°€ counter ëª¨ë“ˆì•ˆì— ìˆë‹¤ëŠ” ê²ƒì„ ê°•ì¡°í•˜ê¸° ìœ„í•´ì„œ 
counter/PLUS_ONE, counter/MINUS_ONE ë¼ëŠ” valueë¡œ 
ë°”ê¾¸ê¸¸ ì›í•œë‹¤ë©´ ì•„ë˜ ì½”ë“œì—ì„œ 4êµ°ë°ë¥¼ ë³€ê²½í•´ì¤˜ì•¼ í•  ê²ƒ ì…ë‹ˆë‹¤. 
ê·¼ë° ë˜ ë§Œì•½ì— ê·¸ê²Œ 4êµ°ë°ê°€ ì•„ë‹ˆë¼ í”„ë¡œì íŠ¸ ê·œëª¨ê°€ êµ‰ì¥íˆ ì»¤ì„œ 100êµ°ë°ë¼ë©´? 


// src/App.js
import React from "react";
import { useDispatch, useSelector } from "react-redux";

const App = () => {
    const dispatch = useDispatch();
    const number = useSelector((state) => state.counter.number);

    return (
        <div>
        {number}
        <button
            onClick={() => {
            dispatch({ type: "PLUS_ONE" }); // counter/PLUS_ONEë¡œ ë³€ê²½
            }}
        >
            + 1
        </button>
        <button
            onClick={() => {
                        // ì•¡ì…˜ê°ì²´ ë””ìŠ¤íŒ¨ì¹˜
            dispatch({ type: "MINUS_ONE" }); // counter/MINUS_ONEë¡œ ë³€ê²½
            }}
        >
            - 1
        </button>
        </div>
    );
    };

export default App;


// src/modules/counter.js
; // ì´ˆê¸° ìƒíƒœê°’
const initialState = {
    number: 0,
};

; // ë¦¬ë“€ì„œ
const counter = (state = initialState, action) => {
    switch (action.type) {
        case "PLUS_ONE": // counter/PLUS_ONEë¡œ ë³€ê²½
        return {
            number: state.number + 1,
        };

            // action.typeì´ MINUS_ONE ì¼ ë•Œ ìƒˆë¡œìš´ state ë°˜í™˜
        case "MINUS_ONE": // counter/MINUS_ONEë¡œ ë³€ê²½
        return {
            number: state.number - 1,
        };
        default:
        return state;
    }
    };

; // ëª¨ë“ˆíŒŒì¼ì—ì„œëŠ” ë¦¬ë“€ì„œë¥¼ export default í•œë‹¤.
export default counter;



- Action Creator ë§Œë“¤ê¸°

ì•ìœ¼ë¡œëŠ” ì•¡ì…˜ê°ì²´ë¥¼ í•œ ê³³ì—ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ "í•¨ìˆ˜"ì™€ "ì•¡ì…˜ value"ë¥¼ ìƒìˆ˜ë¡œ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.


ë§Œì•½ PLUS_ONE ì´ë¼ëŠ” ì•¡ì…˜ ê°ì²´ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“ ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
ê·¸ë¦¬ê³  ìš°ë¦¬ëŠ” ì´ê²ƒì„ Action Creatorë¼ê³  ë¶€ë¦…ë‹ˆë‹¤. ë§ ê·¸ëŒ€ë¡œ ì•¡ì…˜ì„ ë§Œë“œëŠ” ìƒì„±ì ì¸ ê²ƒì´ì£ . 


// src/redux/modules/counter.js

const PLUS_ONE = "PLUS_ONE"; // valueëŠ” ìƒìˆ˜ë¡œ ìƒì„±

; // ì•¡ì…˜ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ ìƒì„±
; // export ê°€ ë¶™ëŠ” ì´ìœ ëŠ” plusOne()ëŠ” ë°–ìœ¼ë¡œ ë‚˜ê°€ì„œ ì‚¬ìš©ë  ì˜ˆì •ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
export const plusOne = () => { 
  return {
    ;// typeì—ëŠ” ìœ„ì—ì„œ ë§Œë“  ìƒìˆ˜ë¡œ ì‚¬ìš© (vscodeì—ì„œ ìë™ì™„ì„± ì§€ì›)
    type: PLUS_ONE, 
  };
};



























































































































â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸

â­ï¸ useSelector : ë°ì´í„° ê°€ì ¸ì˜¤ê¸° (state ì¡°íšŒ í›„ ê°€ì ¸ì˜¤ê¸°)
â­ï¸ useDispatch : ë°ì´í„° ìˆ˜ì •í•˜ê¸° (action ì„ ë°›ì•„ì„œ ë¦¬ë“€ì„œì—ê²Œ ì „ë‹¬)

ë¦¬ë•ìŠ¤ì™€ ì»´í¬ë„ŒíŠ¸ ì—°ê²°í•˜ê¸°

index.js
7. Providerë¶ˆëŸ¬ì˜¤ê³ , store ì„í¬íŠ¸í•˜ê¸°
import {Provider} from 'react-redux';
import store from './redux/configStore';

ReactDOM.render(
    <Provider store={store}>
        <BrowserRouter>
            <App />
        </BrowserRouter>
    </Provider>,
    document.getElenentById('root')
);

â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸

ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¦¬ë•ìŠ¤ ë°ì´í„° ì‚¬ìš©í•˜ê¸°

í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸
App.js
1. reduxëª¨ë“ˆê³¼ connectí•¨ìˆ˜
import {connect} from 'react-redux';
2. actioní•¨ìˆ˜ ë¶ˆëŸ¬ì˜¤ê¸°
import {loasBucket, creatBucket} from './redux/modules/bucket';

+ connectë¡œ ì»´í¬ë„ŒíŠ¸ì™€ ìŠ¤í† ì–´ë¥¼ ì—°ê²°í•¨ - withRouter ê°€ì ¸ì˜¤ë¯€ë¡œ ë°”ê¿” ì¤Œ
export default connect (mapStateToProps, mapDispatchToProps)(withRouter(App));
    connect í•¨ìˆ˜ : componentì™€ storeë¥¼ ì—°ê²°í•´ì¤€ë‹¤.
    action í•¨ìˆ˜ : ë¶ˆëŸ¬ì™€ì„œ, actionìƒì„±í•¨ìˆ˜ë¥¼ ë¶€ë¥´ëŠ” í•¨ìˆ˜ì—ì„œ ì‚¬ìš©í•´ì¤€ë‹¤.

3. ìƒíƒœê°’ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ : ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ì— ìˆëŠ” state ìƒíƒœê°’ì„ props í˜•íƒœë¡œ ë„£ì–´ì¤Œ
    const mapStateToProps = (state) => {
        return {
            # ìŠ¤í† ì–´ì— ìˆëŠ” ìƒíƒœê°’
            bucket_list: state.bucket.list
        };
    }

4. actionìƒì„± í•¨ìˆ˜ë¥¼ ë¶€ë¥´ëŠ” í•¨ìˆ˜ ë§Œë“¤ê¸° : actionì´ ìƒê¸°ëŠ” ê²ƒì„ ê°ì‹œí•˜ëŠ” dispatchë¥¼ ë„˜ê²¨ì¤Œ
    const mapDispatchToProps = (dispatch) => {
        # actionì„ ë°˜í™˜í•˜ê¸°
        return{
            load: () => {
                dispatch( loadBucket() );
            },
            create: (bucket_text) => {
                dispatch( createBucket(bucket_text) );
            }
        }
    }

    ìƒíƒœê°’ì„ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ : ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ì— ìˆëŠ” stateìƒíƒœê°’ì„ propsì˜ í˜•íƒœë¡œ ë„£ì–´ì¤Œ
    actionìƒì„± í•¨ìˆ˜ë¥¼ ë¶€ë¥´ëŠ” í•¨ìˆ˜ : actionì„ ë°˜í™˜í•´ì£¼ê³ , dispatchë¡œ ê°ì‹œí•´ì¤Œ

5. console ì— this.props ì°ì–´ë³´ê¸°
    componentDidMount(){
        console.log(this.props);
    }

6. this.stateì— ìˆëŠ” ë°ì´í„°ë¥¼ ì§€ìš°ê³ , ìŠ¤í† ì–´ì— ìˆëŠ” ë°ì´í„°ë¡œ ë°”ê¾¸ê¸°
class App extends React.Component {
    constructor (props){
        super(props);
        this.state={

        };
    };
}
    App ì»´í¬ë„ŒíŠ¸ ì•ˆì— this.stateë¡œ ìˆë˜ listë¥¼ ì§€ìš°ê³ ,
    
    const map = (state) => {
        return{
            //ìŠ¤í† ì–´ì— ìˆëŠ” ìƒíƒœê°’
            bucket_list: state.bucket.list
        };
    }
    ìƒíƒœê°’ì„ ê°€ì ¸ì˜¤ëŠ” mapStateToProps í•¨ìˆ˜ ì•ˆì— stateë¥¼ props í˜•íƒœë¡œ ë„£ì–´ì¤€ë‹¤.

7. setStateë¥¼ this.props.createë¡œ ë°”ê¾¸ê¸°
addBucketList = () => {
    const new_item = this.text.current.value;
    this.props.create(new_item);
}
    ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ëŠ” ê°’ì„ props í˜•íƒœë¡œ ë°”ê¿”ì„œ ë§Œë“¤ì–´ ì¤€ë‹¤.



â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸-â­ï¸

ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¦¬ë•ìŠ¤ ë°ì´í„° ì‚¬ìš©í•˜ê¸°

í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸

ë¦¬ë•ìŠ¤ë„ ë¦¬ì•¡íŠ¸ì²˜ëŸ¼ í›…ì´ ìˆë‹¤.
ì•¡ì…˜ ìƒì„± í•¨ìˆ˜ë¥¼ ë¶ˆëŸ¬ì˜¤ê³ 
ìŠ¤í† ì–´ì— ì €ì¥ëœ ê°’ë„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ

1. BucketList ì»´í¬ë„ŒíŠ¸ì—ì„œ useSelector() ì ìš©í•˜ê¸°
    Redux hookì„ ë¶ˆëŸ¬ì˜¨ë‹¤.
import {useDispatch, useSelector} form 'react-redux';

const BucketList = (props) => {
    ë²„í‚·ë¦¬ìŠ¤íŠ¸ë¥¼ ë¦¬ë•ìŠ¤ í›…ìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸°
    const bucket = useSelector(state =>state.bucket.list);

    console.log(bucket_list);
}

2. ëª‡ ë²ˆì§¸ì— ì™€ìˆëŠ”ì§€ ì•Œê¸° ìœ„í•´ url íŒŒë¼ë¯¸í„° ì ìš©í•´ë³´ê¸°
<ListStyle>
    {bucket_list.map((list,index) => {
        return (
            <ItemStyle
                className = "list_item"
                key = {index}
                onClick = {() => {
                    props.history.push("./detail"+index);
                }}
            >
                {list}
            </ItemStyle>
        )
    })}
</ListStyle>


<Route
    path="./detail/:index"
    component={Detail}
/>

3. Detailì—ì„œ BucketList ë‚´ìš© ë„ìš°ê¸°
const Detil = (props) => {
    const dispatch = useDispatch();
    # ìŠ¤í† ì–´ì—ì„œ ìƒíƒœê°’ ê°€ì ¸ì˜¤ê¸°
    const bucket_list = useSelector((state) => state.bucket.list);
    # url íŒŒë¼ë¯¸í„°ì—ì„œ ì¸ë±ìŠ¤ ê°€ì ¸ì˜¤ê¸°
    let bucket_index = parseInt(props.match.params.index);

    console.log(props);

    return(
        <div>
            <h1>{bucket_list[bucket_index]}</h1>
            <button onClick = {() => {
                dispatch(deleteBucket(buket_index));
                props.history.goBack();
            }}>ì‚­ì œí•˜ê¸°</button>
    )
}







ë¦¬ë“€ì„œê°€ ì•¡ì…˜ê°ì²´ë¥¼ ë°›ì•„ ìƒíƒœë¥¼ ë°”ê¾¸ëŠ” ì›ë¦¬ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

1. ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° dispatchë¥¼ í†µí•´ ì•¡ì…˜ê°ì²´ë¥¼ ì „ë‹¬ ë°›ëŠ”ë‹¤.
2. action ì•ˆì— ìˆëŠ” typeì„ ìŠ¤ìœ„ì¹˜ë¬¸ì„ í†µí•´ í•˜ë‚˜ì”© ê²€ì‚¬í•´ì„œ, ì¼ì¹˜í•˜ëŠ” caseë¥¼ ì°¾ëŠ”ë‹¤.
3. typeê³¼ caseê°€ ì¼ì¹˜í•˜ëŠ” ê²½ìš°ì—, í•´ë‹¹ ì½”ë“œê°€ ì‹¤í–‰ë˜ê³  ìƒˆë¡œìš´ stateë¥¼ ë°˜í™˜(return) í•œë‹¤.
4. ë¦¬ë“€ì„œê°€ ìƒˆë¡œìš´ stateë¥¼ ë°˜í™˜í•˜ë©´, ê·¸ê²Œ ìƒˆë¡œìš´ ëª¨ë“ˆì˜ stateê°€ ëœë‹¤.
























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































